var fs=require("fs"),strips=/[\u201c\u201d\u2018\?!#\.:,;()"''\d]*/gi,spaced=/[\n-/]+/gi,seqs=/\u2019s/gi,minLength=function(a){return function(b){return b.length>=a}},byLength=function(a,b){return a.length-b.length},trimmer=function(a){return a.trim()},spacer=function(a,b){var c="$1 ";return b&&(c="$1\xa0"),a.replace(/([^ ])/gi,c).trim()},groupByValue=function(a){return function(b){a[b]=a[b]?a[b]+1:1}},getWords=function(a,b){return b||(b=1),a=(""+a).toLowerCase().replace(strips,"").replace(seqs,"").replace(spaced," ").trim(),a.split(" ").map(trimmer).filter(minLength(b))},getWordsCount=function(a){var b={};return a.map(groupByValue(b)),b},getSpacedWords=function(a){return a=Object.keys(getWordsCount(a)),a.sort(byLength).map(spacer).join(" ")};fs.readFile("./data/article.md",function(a,b){var c=getWords(b);console.log(getSpacedWords(c))});
